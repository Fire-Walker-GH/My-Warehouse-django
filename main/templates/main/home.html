{% extends 'main/layout.html' %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'main/css/home.css' %}">

{% if request.user.is_authenticated %}
    <h2>–í–∞—à–∏ —Å–∫–ª–∞–¥—ã</h2>
    {% if user_warehouses %}
        <div class="warehouse-block">
            {% for warehouse in user_warehouses %}
                <div class="warehouse-item">
                    <h3 class="warehouse-name">{{ warehouse.name }}</h3>
                    <p class="warehouse-address">{{ warehouse.address }}</p>
                    <p class="warehouse-products-quantity">–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤: {{ warehouse.total_quantity|default:"0" }}</p>
                    <p class="warehouse-unique-items-count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–æ–≤ —Ç–æ–≤–∞—Ä–∞: {{ warehouse.unique_item_count|default:"0" }}</p>
                    <a href="{% url 'items_list' warehouse_id=warehouse.id %}" class="open-the-warehouse-bth">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∫–ª–∞–¥</a>
                    <button type="button" class="delete-warehouse-btn" 
                        onclick="openDeleteModal('{{ warehouse.id }}', '{{ warehouse.name }}')">
                        –£–¥–∞–ª–∏—Ç—å —Å–∫–ª–∞–¥
                    </button>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <h2>–£ –≤–∞—Å –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤</h2>
        <a href="{% url 'add_warehouse' %}" class="add-warehouse-btn">–î–æ–±–∞–≤–∏—Ç—å</a>
    {% endif %}
{% else %} 
    <section class="hero">
        <div class="container">
            <h1>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏–º —Å–∫–ª–∞–¥–æ–º —Å –ª–µ–≥–∫–æ—Å—Ç—å—é</h1>
            <p>–ü—Ä–æ—Å—Ç–∞—è –∏ —É–¥–æ–±–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É—á–µ—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –≤–∞—à–µ–º —Å–∫–ª–∞–¥–µ. –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –æ—Å—Ç–∞—Ç–∫–∏, –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.</p>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <h2>–ù–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>üìä –£—á–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</h3>
                    <p>–í–µ–¥–∏—Ç–µ –ø–æ–ª–Ω—ã–π —É—á–µ—Ç –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –≤–∞—à–µ–º —Å–∫–ª–∞–¥–µ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞–∂–¥–æ–º –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏.</p>
                </div>
                <div class="feature-card">
                    <h3>üîÑ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π</h3>
                    <p>–§–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø—Ä–∏—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã —Ç–æ–≤–∞—Ä–æ–≤, —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ —Ç–µ–∫—É—â–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤.</p>
                </div>
                <div class="feature-card">
                    <h3>üì± –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h3>
                    <p>–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∑–≤–æ–ª–∏—Ç –±—ã—Å—Ç—Ä–æ –æ—Å–≤–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∏ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="how-it-works">
        <div class="container">
            <h2>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</h3>
                    <p>–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>–î–æ–±–∞–≤—å—Ç–µ —Å–∫–ª–∞–¥</h3>
                    <p>–í–Ω–µ—Å–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º —Å–∫–ª–∞–¥–µ</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–∫–ª–∞–¥–æ–º</h3>
                    <p>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤</p>
                </div>
            </div>
        </div>
    </section>
{% endif %}


<div id="deleteModal" class="modal-overlay">
        <div class="modal-content">
        <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
        <p id="modalText">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–∫–ª–∞–¥?</p>
        
        <div class="modal-buttons">
            <form id="deleteForm" method="POST" action="">
                {% csrf_token %}
                <button type="submit" class="btn-confirm">–î–∞, —É–¥–∞–ª–∏—Ç—å</button>
            </form>
            <button type="button" class="btn-cancel" onclick="closeDeleteModal()">–ù–µ—Ç, –æ—Ç–º–µ–Ω–∞</button>
        </div>
        </div>
</div>

<script src="{% static 'main/js/home.js' %}"></script>

{% endblock %}

